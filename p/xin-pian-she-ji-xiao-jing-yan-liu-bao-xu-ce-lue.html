<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>芯片设计小经验之流保序策略 - Dylan</title><meta name="keywords" content="设计技巧,流保序"><meta name="description" content="今天想分享几种流保序策略。保序问题在不同的应用领域都会遇到，毕竟硬件电路本质上是需要很多数据流传输的。各种协议的接口，处理器的数据处理，指令处理等都离不开对应数据有序的传输。
如果只有一条数据流，可以直接使用一个FIFO保序。如果是多数据流，多个读写口，可以分不同ID使用不同FIFO保序。今天想讨论的是多数据流混合场景下只有1个读口和1个写口的保序。不同的数据流有对应不同的ID，大致有以下5种不同的保序策略。"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="baidu-site-verification" content="Ar3EqWfUYV"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/dxsm/cdn/lib/font-awesome/css/font-awesome.min.css"><link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/dxsm/cdn@1.7.0/css/style.css"><script>function setLoadingBarProgress(e){document.getElementById("loading-bar").style.width=e+"%"}</script><style>#loading-container{position:fixed;top:0;left:0;min-height:100vh;width:100vw;z-index:9999;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;text-align:center;-webkit-transition:opacity 1s ease;-moz-transition:opacity 1s ease;-o-transition:opacity 1s ease;transition:opacity 1s ease}.loading-image{width:120px;height:50px;transform:translate(-50%)}.loading-image div:nth-child(2){-webkit-animation:pacman-balls 1s linear 0s infinite;animation:pacman-balls 1s linear 0s infinite}.loading-image div:nth-child(3){-webkit-animation:pacman-balls 1s linear .33s infinite;animation:pacman-balls 1s linear .33s infinite}.loading-image div:nth-child(4){-webkit-animation:pacman-balls 1s linear .66s infinite;animation:pacman-balls 1s linear .66s infinite}.loading-image div:nth-child(5){-webkit-animation:pacman-balls 1s linear .99s infinite;animation:pacman-balls 1s linear .99s infinite}.loading-image div:first-of-type{width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_up .5s 0s infinite;animation:rotate_pacman_half_up .5s 0s infinite}.loading-image div:nth-child(2){width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_down .5s 0s infinite;animation:rotate_pacman_half_down .5s 0s infinite;margin-top:-50px}@-webkit-keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@-webkit-keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@-webkit-keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}@keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}.loading-image div:nth-child(3),.loading-image div:nth-child(4),.loading-image div:nth-child(5),.loading-image div:nth-child(6){background-color:#49b1f5;width:15px;height:15px;border-radius:100%;margin:2px;width:10px;height:10px;position:absolute;transform:translateY(-6.25px);top:25px;left:100px}.loading-text{margin-bottom:10vh;text-align:center;color:#2c3e50;font-size:2rem;box-sizing:border-box;padding:0 10px;text-shadow:0 2px 10px rgba(0,0,0,.2)}@media only screen and (max-width:500px){.loading-text{font-size:1.5rem}.loading-image{width:90px}}.fadeout{opacity:0}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0)}}</style><script>(function () {
        const loaded = function(){
           setTimeout(function(){
                const loader = document.getElementById("loading-container");
                loader.className="fadeout" ;//使用渐隐的方法淡出loading page
                // document.getElementById("body-wrap").style.display="flex";
                setTimeout(function(){
                    loader.style.display="none";
                },1000); 
            },1000); //强制显示loading page 1s  
        };
        loaded();
    })()</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-bar-wrapper"><div id="loading-bar" class="pure"></div></div><div id="loading-container"><p class="loading-text">玩命加载中 . . .</p><div class="loading-image"><div></div><div></div><div></div><div></div><div></div></div></div><script>setLoadingBarProgress(20)</script><header class="l_header pure"><div class="wrapper"><div class="nav-main container container--flex"><a class="logo flat-box" href="/">Dylan</a><div class="menu"><ul class="h-list"><li><a id="home" class="nav flat-box" href="/" target=""><i class="fa fa-home fa-fw"></i> &nbsp;主页</a></li><li><a id="archives" class="nav flat-box" href="/archives/" target=""><i class="fa fa-archive fa-fw"></i> &nbsp;归档</a></li><li><a id="listbooks.html" class="nav flat-box" href="/list/books.html" target=""><i class="fa fa-book fa-fw"></i> &nbsp;书籍</a></li><li><a id="listtools.html" class="nav flat-box" href="/list/tools.html" target=""><i class="fa fa-wrench fa-fw"></i> &nbsp;工具</a></li><li><a id="listgames.html" class="nav flat-box" href="/list/games.html" target=""><i class="fa fa-cubes fa-fw"></i> &nbsp;娱乐</a></li><li><a id="box" class="nav flat-box" href="/box/" target="__blank"><i class="fa fa-flask fa-fw"></i> &nbsp;百宝箱</a></li><li><a id="links" class="nav flat-box" href="/links/" target=""><i class="fa fa-link fa-fw"></i> &nbsp;友链</a></li><li><a id="contact" class="nav flat-box" href="/contact/" target=""><i class="fa fa-comments-o fa-fw"></i> &nbsp;留言版</a></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder="搜索"><span class="icon"><i class="fa fa-search fa-fw"></i></span></form></div><ul class="switcher h-list"><li class="s-search"><a class="fa fa-search fa-fw" href="javascript:void(0)"></a></li><li class="s-menu"><a class="fa fa-bars fa-fw" href="javascript:void(0)"></a></li></ul></div><div class="nav-sub container container--flex"><a class="logo flat-box"></a><ul class="switcher h-list"><li class="s-comment"><a class="flat-btn fa fa-comments fa-fw" href="javascript:void(0)"></a></li><li class="s-toc"><a class="flat-btn fa fa-list-ul fa-fw" href="javascript:void(0)"></a></li></ul></div></div></header><aside class="menu-phone"><section class="author" style="background-image:url(https://cdn.jsdelivr.net/gh/dxsm/cdn/images/nav-bg.jpg)"><div class="avatar-wrap"><div class="avatar" style="background-image:url(https://cdn.jsdelivr.net/gh/dxsm/cdn/images/avatar.png)"></div><span class="name">董续胜</span></div><p class="info">记录时光，走向成长</p></section><header><nav class="menu"><ul><li><a id="home" class="nav flat-box" href="/"><i class="fa fa-home fa-fw"></i> &nbsp;主页</a></li><li><a id="archives" class="nav flat-box" href="/archives/"><i class="fa fa-archive fa-fw"></i> &nbsp;归档</a></li><li><a id="categories" class="nav flat-box" href="/categories/"><i class="fa fa-th fa-fw"></i> &nbsp;分类</a></li><li><a id="tags" class="nav flat-box" href="/tags/"><i class="fa fa-tags fa-fw"></i> &nbsp;标签</a></li><li><a id="listbooks.html" class="nav flat-box" href="/list/books.html"><i class="fa fa-book fa-fw"></i> &nbsp;书籍</a></li><li><a id="listtools.html" class="nav flat-box" href="/list/tools.html"><i class="fa fa-wrench fa-fw"></i> &nbsp;工具</a></li><li><a id="listgames.html" class="nav flat-box" href="/list/games.html"><i class="fa fa-cubes fa-fw"></i> &nbsp;娱乐</a></li><li><a id="box" class="nav flat-box" href="/box/"><i class="fa fa-flask fa-fw"></i> &nbsp;百宝箱</a></li><li><a id="links" class="nav flat-box" href="/links/"><i class="fa fa-link fa-fw"></i> &nbsp;友链</a></li><li><a id="contact" class="nav flat-box" href="/contact/"><i class="fa fa-comments-o fa-fw"></i> &nbsp;留言版</a></li></ul></nav></header><hr><div class="social-wrapper"><a href="http://www.uestc.edu.cn/" title="2016年毕业于电子科技大学" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-university fa_fw" aria-hidden="true"></i></a><a href="http://gr.uestc.edu.cn/" title="硕士学历" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-graduation-cap fa_fw" aria-hidden="true"></i></a><a href="#" title="中国 上海" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-map-marker fa_fw" aria-hidden="true"></i></a><a href="#" title="QQ: 959229640" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-qq fa_fw" aria-hidden="true"></i></a><a href="mailto:959229640@qq.com" title="959229640@qq.com" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-envelope fa_fw" aria-hidden="true"></i></a></div></aside><script>setLoadingBarProgress(40)</script><div class="l_body"><div class="container clearfix"><div class="l_main"><article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost"><section class="meta"><div class="meta" id="header-meta"><h1 class="title">芯片设计小经验之流保序策略</h1><div class="new-meta-box"><div class="new-meta-item category"><a href="/categories/ASIC%E8%AE%BE%E8%AE%A1/"><i class="fa fa-folder-o" aria-hidden="true"></i> ASIC设计</a></div></div><hr></div></section><section class="article typo"><div class="article-entry" itemprop="articleBody"><p>今天想分享几种流保序策略。保序问题在不同的应用领域都会遇到，毕竟硬件电路本质上是需要很多数据流传输的。各种协议的接口，处理器的数据处理，指令处理等都离不开对应数据有序的传输。</p><p>如果只有一条数据流，可以直接使用一个FIFO保序。如果是多数据流，多个读写口，可以分不同ID使用不同FIFO保序。<strong>今天想讨论的是多数据流混合场景下只有1个读口和1个写口的保序。不同的数据流有对应不同的ID</strong>，大致有以下5种不同的保序策略。</p><span id="more"></span><h2 id="1-bu-tong-id-shi-yong-bu-tong-fifo-fen-bie-bao-xu"><a class="markdownIt-Anchor" href="#1-bu-tong-id-shi-yong-bu-tong-fifo-fen-bie-bao-xu"></a> 1. 不同ID使用不同FIFO分别保序</h2><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="image-20200622232000676" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/image-20200622232000676.png"></p><p>每个FIFO只需要储存数据就可以，各自维护一套读写指针，储存数据结构简单，只需要存下数据，无需其他信息。</p><p>优点：简单直观，时序好，易实现</p><p>缺点：静态配置，不够灵活，当ID多或者FIFO深度大的时候很占面积</p><h2 id="2-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-lian-biao-bao-xu"><a class="markdownIt-Anchor" href="#2-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-lian-biao-bao-xu"></a> 2.不同ID使用同一共享”Buffer”，使用链表保序：</h2><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="img" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/640.png"></p><p>使用链表保序也是一种比较常见的做法。需要额外记录队头队尾的位置信息，以及下一个位置的指针信息，其数据结构如下：</p><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="img" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/640-1592839273675.png"></p><p>基本读写规则和更新规则如下：</p><ol><li><p>数据随意插空写入buffer</p></li><li><p>每次写入时将当前entry置为队尾，tail=1’b1</p></li><li><p>每次写入时搜索整个buffer中是否有同id的entry，若无同id，则head=1‘b1，若有，则搜索当前同id的队尾，将当前写入的位置信息更新到队尾所在entry的nxt_ptr</p></li><li><p>每个队列的head参与仲裁读出</p></li><li><p>每次读出时将相应队头的nxt_ptr所指的entry的head置为1’b1</p></li></ol><p>优点：灵活配置，寄存器资源相对较少，并可被充分利用，特别适用于队列深度未知的场景。</p><p>缺点：更新复杂，时序较差，特别是每次读出一个队头更新下一个队头的时候，需要连续两次访问不同entry的buffer并做一个写操作，时序路径很长。</p><h2 id="3-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-dui-lie-ji-shu-qi-bao-xu"><a class="markdownIt-Anchor" href="#3-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-dui-lie-ji-shu-qi-bao-xu"></a> 3.不同ID使用同一共享”Buffer”，使用队列计数器保序：</h2><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="img" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/640-1592839279032.png"></p><p>这种方法通过记录每个entry在当前buffer中处于所在队列的第几个位置来表征顺序。需要额外有一个计数器储存空间，其数据结构如下：</p><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="img" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/640-1592839283948.png"></p><p>基本读写规则和更新规则如下：</p><ol><li>数据随意插空写入buffer</li><li>每次写入时计算出当前buffer中同ID的entry个数，作为cnt记录</li><li>所有cnt=0的entry参与读出仲裁</li><li>每次读出一个数据，相同ID的所有entry的cnt均减1</li></ol><p>优点：灵活配置，寄存器资源相对较少，并可被充分利用, 更新规则较为简单。</p><p>缺点：输入时序较差，需要做多bit加法。另外如果每个队列的深度未知，则此方案不可行，因为无法确定cnt的位宽。</p><h2 id="4-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-bitmap-bao-xu"><a class="markdownIt-Anchor" href="#4-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-bitmap-bao-xu"></a> 4.不同ID使用同一共享”Buffer”，使用bitmap保序：</h2><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="img" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/640-1592839286440.png"></p><p>如上图所示，每个entry都保存了一个“bit map”，用来记录当前buffer所有位置的同id entry信息。其储存数据结构如下：</p><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="img" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/640-1592839290303.png"></p><p>基本读写规则和更新规则如下：</p><ol><li>数据随意插空写入buffer</li><li>每次写入时遍历buffer所有同id的entry，若有，则将该位置（可能有多个）对应的bit map置为1</li><li>Bit map为全0的位置可参与仲裁读出</li><li>每次读出更新所有同id的bit map，将相应位置置为0</li></ol><p>优点：灵活配置，更新规则较为简单，时序相对较好。</p><p>缺点：若buffer深度较大，bit map面积太大。</p><h2 id="5-bu-tong-id-shi-yong-tong-yi-gong-xiang-fifo-tong-guo-shun-xu-xie-ru-shu-ju-yi-wei-bao-xu"><a class="markdownIt-Anchor" href="#5-bu-tong-id-shi-yong-tong-yi-gong-xiang-fifo-tong-guo-shun-xu-xie-ru-shu-ju-yi-wei-bao-xu"></a> 5.不同ID使用同一共享”FIFO”，通过顺序写入+数据移位保序：</h2><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="img" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/640-1592839292591.png"></p><p>这种结构除了数据以外，每个entry需要额外存下vld，id和表示队列对头的head信息，数据结构如下：</p><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="img" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note@latest/assets/640-1592839296737.png"></p><p>优点：灵活配置，寄存器资源相对较少，并可被充分利用</p><p>缺点：因为要做数据移位，可能有较大功耗</p><p>以上便是几种不同的保序策略，希望对大家有所帮助。至于什么时候选择哪一种策略，则取决于实际场景和各种环节约束，需要因地制宜。</p><div id="post-donate"><div class="donate_msg">生活不止眼前的苟且，还有诗和远方</div><button><span>打赏</span></button><div class="QR" style="display:none"><div class="alipay_qr"><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/alipay.png" alt="淘宝支付"><p>淘宝支付</p></div><div class="weixin_qr"><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/weixinpay.png" alt="微信支付"><p>微信支付</p></div></div></div><blockquote class="post-copyright"><p class="post-copyright-author"><strong>本文作者：</strong> 董续胜</p><p class="post-copyright-link"><strong>本文链接：</strong> <a href="https://dxsm.github.io/p/xin-pian-she-ji-xiao-jing-yan-liu-bao-xu-ce-lue.html" title="芯片设计小经验之流保序策略">https://dxsm.github.io/p/xin-pian-she-ji-xiao-jing-yan-liu-bao-xu-ce-lue.html</a></p><p class="post-copyright-license"><strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a>许可协议。转载请注明出处！</p></blockquote></div><section class="meta" id="footer-meta"><hr><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-06-10T22:48:33+08:00"><a class="notlink"><i class="fa fa-pencil-alt" aria-hidden="true"></i> 2021-06-10</a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%8A%80%E5%B7%A7/"><i class="fa fa-hashtag" aria-hidden="true"></i>&nbsp;设计技巧</a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E6%B5%81%E4%BF%9D%E5%BA%8F/"><i class="fa fa-hashtag" aria-hidden="true"></i>&nbsp;流保序</a></div></div></section><div class="prev-next"><section class="prev"><span class="art-item-left"><h6><i class="fa fa-chevron-left" aria-hidden="true"></i>&nbsp;上一页</h6><h4><a href="/p/xin-pian-she-ji-xiao-shi-li-shu-ju-shou-shen.html" rel="prev" title="芯片设计小实例之数据“瘦身”">芯片设计小实例之数据“瘦身”</a></h4><h6 class="tags"><a class="tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%8A%80%E5%B7%A7/"><i class="fa fa-hashtag fa-fw" aria-hidden="true"></i> 设计技巧</a><a class="tag" href="/tags/%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96/"><i class="fa fa-hashtag fa-fw" aria-hidden="true"></i> 资源优化</a></h6></span></section><section class="next"><span class="art-item-right" aria-hidden="true"><h6>下一页&nbsp;<i class="fa fa-chevron-right" aria-hidden="true"></i></h6><h4><a href="/p/xin-pian-she-ji-xiao-shi-li-gong-xiang-buffer.html" rel="prev" title="芯片设计小实例之共享Buffer">芯片设计小实例之共享Buffer</a></h4><h6 class="tags"><a class="tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%8A%80%E5%B7%A7/"><i class="fa fa-hashtag fa-fw" aria-hidden="true"></i> 设计技巧</a><a class="tag" href="/tags/%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96/"><i class="fa fa-hashtag fa-fw" aria-hidden="true"></i> 资源优化</a></h6></span></section></div></section></article><br><article class="post white-box comments"><section class="article typo"><h4><i class="fa fa-comments fa-fw" aria-hidden="true"></i>&nbsp;评论</h4><section id="comments"><div id="valine_container" class="valine_thread"><i class="fa fa-spinner fa-spin fa-fw"></i></div></section></section></article><script>window.subData={title:"芯片设计小经验之流保序策略",tools:!0}</script></div><aside class="l_side"><section class="author"><div class="content pure"><div class="avatar"><img class="avatar" src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" data-echo="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/avatar3.jpg"></div><div class="text"><p class="nickname">星雨夜澈</p><p><span class="descr">不忘初心，记录时光，走向成长</span></p></div><div class="social-wrapper"><a href="http://www.uestc.edu.cn/" title="2016年毕业于电子科技大学" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-university fa_fw" aria-hidden="true"></i></a><a href="http://gr.uestc.edu.cn/" title="硕士学历" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-graduation-cap fa_fw" aria-hidden="true"></i></a><a href="#" title="中国 上海" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-map-marker fa_fw" aria-hidden="true"></i></a><a href="#" title="QQ: 959229640" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-qq fa_fw" aria-hidden="true"></i></a><a href="mailto:959229640@qq.com" title="959229640@qq.com" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-envelope fa_fw" aria-hidden="true"></i></a></div></div></section><section class="plain"><header class="pure"><div><i class="fa fa-bullhorn font-animation annouce fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;公告</div></header><div class="content pure"><p>本站基本建设完成，喜欢的话可以安利给身边的朋友哦！最近已添加markdown在线工具，后续工作:<br>1. github action自动部署<br>2. 美化gitbook工具</p></div></section><section class="toc-wrapper"><header class="pure"><div><i class="fa fa-list-ul fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;文章目录</div><div class="wrapper"><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fa fa-thumbtack fa-fw"></i></a></div></header><div class="content pure"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-bu-tong-id-shi-yong-bu-tong-fifo-fen-bie-bao-xu"><span class="toc-text">1. 不同ID使用不同FIFO分别保序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-lian-biao-bao-xu"><span class="toc-text">2.不同ID使用同一共享”Buffer”，使用链表保序：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-dui-lie-ji-shu-qi-bao-xu"><span class="toc-text">3.不同ID使用同一共享”Buffer”，使用队列计数器保序：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-bu-tong-id-shi-yong-tong-yi-gong-xiang-buffer-shi-yong-bitmap-bao-xu"><span class="toc-text">4.不同ID使用同一共享”Buffer”，使用bitmap保序：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-bu-tong-id-shi-yong-tong-yi-gong-xiang-fifo-tong-guo-shun-xu-xie-ru-shu-ju-yi-wei-bao-xu"><span class="toc-text">5.不同ID使用同一共享”FIFO”，通过顺序写入+数据移位保序：</span></a></li></ol></div></section><section class="tagcloud"><header class="pure"><div><i class="fa fa-hashtag fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;热门标签</div><a class="rightBtn" rel="external nofollow noopener noreferrer" href="/tags/" title="tags/"><i class="fa fa-arrows-alt fa-fw"></i></a></header><div class="content pure"><a href="/tags/AHB/" style="font-size:14px;color:#999">AHB</a> <a href="/tags/AMBA/" style="font-size:16.5px;color:#888">AMBA</a> <a href="/tags/ASIC/" style="font-size:24px;color:#555">ASIC</a> <a href="/tags/AXI/" style="font-size:14px;color:#999">AXI</a> <a href="/tags/Linux/" style="font-size:14px;color:#999">Linux</a> <a href="/tags/Low-Power/" style="font-size:19px;color:#777">Low Power</a> <a href="/tags/Python/" style="font-size:14px;color:#999">Python</a> <a href="/tags/SOC/" style="font-size:19px;color:#777">SOC</a> <a href="/tags/UPF/" style="font-size:14px;color:#999">UPF</a> <a href="/tags/eda-tools/" style="font-size:16.5px;color:#888">eda_tools</a> <a href="/tags/electron/" style="font-size:14px;color:#999">electron</a> <a href="/tags/electron-vue/" style="font-size:14px;color:#999">electron-vue</a> <a href="/tags/fifo/" style="font-size:14px;color:#999">fifo</a> <a href="/tags/git/" style="font-size:14px;color:#999">git</a> <a href="/tags/jtag/" style="font-size:14px;color:#999">jtag</a> <a href="/tags/markdown/" style="font-size:16.5px;color:#888">markdown</a> <a href="/tags/systemverilog/" style="font-size:21.5px;color:#666">systemverilog</a> <a href="/tags/testbench/" style="font-size:14px;color:#999">testbench</a> <a href="/tags/vim/" style="font-size:14px;color:#999">vim</a> <a href="/tags/vimrc/" style="font-size:14px;color:#999">vimrc</a> <a href="/tags/%E4%B9%A6%E7%B1%8D/" style="font-size:14px;color:#999">书籍</a> <a href="/tags/%E5%84%BF%E7%AB%A5%E6%95%99%E8%82%B2/" style="font-size:14px;color:#999">儿童教育</a> <a href="/tags/%E6%AD%A3%E5%88%99/" style="font-size:14px;color:#999">正则</a> <a href="/tags/%E6%B5%81%E4%BF%9D%E5%BA%8F/" style="font-size:14px;color:#999">流保序</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%8A%80%E5%B7%A7/" style="font-size:19px;color:#777">设计技巧</a> <a href="/tags/%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96/" style="font-size:16.5px;color:#888">资源优化</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size:14px;color:#999">面试</a></div></section><section class="category"><header class="pure"><div><i class="fa fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;所有分类</div><a class="rightBtn" rel="external nofollow noopener noreferrer" href="/categories/" title="categories/"><i class="fa fa-arrows-alt fa-fw"></i></a></header><div class="content pure"><ul class="entry"><li><a class="flat-box" title="/categories/ASIC%E6%B5%8B%E8%AF%95/" href="/categories/ASIC%E6%B5%8B%E8%AF%95/"><div class="name">ASIC测试</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/ASIC%E8%AE%BE%E8%AE%A1/" href="/categories/ASIC%E8%AE%BE%E8%AE%A1/"><div class="name">ASIC设计</div><div class="badge">(5)</div></a></li><li><a class="flat-box" title="/categories/ASIC%E9%AA%8C%E8%AF%81/" href="/categories/ASIC%E9%AA%8C%E8%AF%81/"><div class="name">ASIC验证</div><div class="badge">(5)</div></a></li><li><a class="flat-box" title="/categories/Linux/" href="/categories/Linux/"><div class="name">Linux</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/Python/" href="/categories/Python/"><div class="name">Python</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/SOC%E8%AE%BE%E8%AE%A1/" href="/categories/SOC%E8%AE%BE%E8%AE%A1/"><div class="name">SOC设计</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/UPF/" href="/categories/UPF/"><div class="name">UPF</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/eda-tools/" href="/categories/eda-tools/"><div class="name">eda_tools</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/electron/" href="/categories/electron/"><div class="name">electron</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/git/" href="/categories/git/"><div class="name">git</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/markdown/" href="/categories/markdown/"><div class="name">markdown</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/vim/" href="/categories/vim/"><div class="name">vim</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/%E4%BD%8E%E5%8A%9F%E8%80%97%E8%AE%BE%E8%AE%A1/" href="/categories/%E4%BD%8E%E5%8A%9F%E8%80%97%E8%AE%BE%E8%AE%A1/"><div class="name">低功耗设计</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/%E6%95%99%E8%82%B2/" href="/categories/%E6%95%99%E8%82%B2/"><div class="name">教育</div><div class="badge">(1)</div></a></li></ul></div></section></aside><script>setLoadingBarProgress(60)</script></div><a class="s-top fa fa-arrow-up fa-fw" href="javascript:void(0)"></a></div><footer id="footer" class="clearfix"><br><div><p>© 2019  <i class="fa fa-paper-plane font-animation"></i> 星雨夜澈</p></div></footer><script>setLoadingBarProgress(80)</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script><script>var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo",ROOT="/";"/"!=ROOT.substring(ROOT.length-1)&&(ROOT+="/")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/dxsm/cdn/lib/fancybox/jquery.fancybox.min.css"><script src="https://cdn.jsdelivr.net/gh/dxsm/cdn/lib/fancybox/jquery.fancybox.min.js"></script><script>$(function(){$("body").find(".post-wrapper,#post").find("img").each(function(){var t=document.createElement("a");$(t).attr("data-fancybox","gallery"),$(t).attr("href",$(this).attr("src")),$(this).attr("data-echo")&&$(t).attr("href",$(this).attr("data-echo")),$(this).wrap(t)})})</script><script src="https://cdn.jsdelivr.net/npm/valine@1.4/dist/Valine.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],meta="nick,mail,link".split(",").filter(function(i){return-1<GUEST_INFO.indexOf(i)}),REQUIRED_FIELDS=["nick","mail","link"],requiredFields="nick,mail".split(",").filter(function(i){return-1<REQUIRED_FIELDS.indexOf(i)}),valine=new Valine;function emoji(i,e,a){return i+"/"+i+"-"+e+"."+a}for(var emojiMaps={},i=1;i<=54;i++)emojiMaps["tieba-"+i]=emoji("tieba",i,"png");for(i=1;i<=101;i++)emojiMaps["qq-"+i]=emoji("qq",i,"gif");for(i=1;i<=116;i++)emojiMaps["aru-"+i]=emoji("aru",i,"gif");for(i=1;i<=125;i++)emojiMaps["twemoji-"+i]=emoji("twemoji",i,"png");for(i=1;i<=4;i++)emojiMaps["weibo-"+i]=emoji("weibo",i,"png");valine.init({el:"#valine_container",meta:meta,appId:"luTuCxxHAQDleYzjxn1tNY3F-gzGzoHsz",appKey:"vWAPOyrP9jT4t1yQle11Qhzk",placeholder:"快来评论吧~",pageSize:"10",avatar:"robohash",lang:"zh-cn",visitor:"true",highlight:"true",mathJax:"false",enableQQ:"true",requiredFields:requiredFields,emojiCDN:"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/",emojiMaps:emojiMaps})</script><script src="https://cdn.jsdelivr.net/gh/dxsm/cdn@1.7.0/js/main.js"></script><script src="https://cdn.jsdelivr.net/gh/toddmotto/echo@1.7.3/src/echo.js"></script><script>echo.init({offset:100,throttle:250,unload:!1,callback:function(t,o){}})</script><script>setLoadingBarProgress(100)</script></body></html>