<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>空闲内存管理 - Dylan</title><meta name="keywords" content="内存管理"><meta name="description" content="在动态分配内存时，操作系统必须对其进行管理。有两种方式跟踪内存使用情况：位图和空闲链表。

使用位图的存储管理

使用位图方法时，内存可能被划分成小到几个字或大到几千字节的分配单元。每个分配单元对应于位图中的一位，0表示空闲，1表示占用（或者相反）。一块内存区和其对应的位图如下图所示。

分配单元的大小是一个重要的设计因素。分配单元越小，位图越大。然而即使只有4个字节大小的分配单元，32位(4字节)的内存也只需要位图中的1位；32n位的内存需要n位的位图，所以位图只占用了1/32的内存。若选择比较大的分配单元，则位图更小。但若进程的大小不是分配单元的整数倍，那么在最后一个分配单元中就会有一定数量的内存被浪费了。"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="baidu-site-verification" content="Ar3EqWfUYV"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/dxsm/cdn/lib/font-awesome/css/font-awesome.min.css"><link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/favicon.ico"><link rel="stylesheet" href="/style.css"><script>function setLoadingBarProgress(e){document.getElementById("loading-bar").style.width=e+"%"}</script><style>#loading-container{position:fixed;top:0;left:0;min-height:100vh;width:100vw;z-index:9999;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;text-align:center;-webkit-transition:opacity 1s ease;-moz-transition:opacity 1s ease;-o-transition:opacity 1s ease;transition:opacity 1s ease}.loading-image{width:120px;height:50px;transform:translate(-50%)}.loading-image div:nth-child(2){-webkit-animation:pacman-balls 1s linear 0s infinite;animation:pacman-balls 1s linear 0s infinite}.loading-image div:nth-child(3){-webkit-animation:pacman-balls 1s linear .33s infinite;animation:pacman-balls 1s linear .33s infinite}.loading-image div:nth-child(4){-webkit-animation:pacman-balls 1s linear .66s infinite;animation:pacman-balls 1s linear .66s infinite}.loading-image div:nth-child(5){-webkit-animation:pacman-balls 1s linear .99s infinite;animation:pacman-balls 1s linear .99s infinite}.loading-image div:first-of-type{width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_up .5s 0s infinite;animation:rotate_pacman_half_up .5s 0s infinite}.loading-image div:nth-child(2){width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_down .5s 0s infinite;animation:rotate_pacman_half_down .5s 0s infinite;margin-top:-50px}@-webkit-keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@-webkit-keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@-webkit-keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}@keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}.loading-image div:nth-child(3),.loading-image div:nth-child(4),.loading-image div:nth-child(5),.loading-image div:nth-child(6){background-color:#49b1f5;width:15px;height:15px;border-radius:100%;margin:2px;width:10px;height:10px;position:absolute;transform:translateY(-6.25px);top:25px;left:100px}.loading-text{margin-bottom:10vh;text-align:center;color:#2c3e50;font-size:2rem;box-sizing:border-box;padding:0 10px;text-shadow:0 2px 10px rgba(0,0,0,.2)}@media only screen and (max-width:500px){.loading-text{font-size:1.5rem}.loading-image{width:90px}}.fadeout{opacity:0}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0)}}</style><script>(function () {
        const loaded = function(){
           setTimeout(function(){
                const loader = document.getElementById("loading-container");
                loader.className="fadeout" ;//使用渐隐的方法淡出loading page
                // document.getElementById("body-wrap").style.display="flex";
                setTimeout(function(){
                    loader.style.display="none";
                },1000); 
            },1000); //强制显示loading page 1s  
        };
        loaded();
    })()</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-bar-wrapper"><div id="loading-bar" class="pure"></div></div><div id="loading-container"><p class="loading-text">玩命加载中 . . .</p><div class="loading-image"><div></div><div></div><div></div><div></div><div></div></div></div><script>setLoadingBarProgress(20)</script><header class="l_header pure"><div class="wrapper"><div class="nav-main container container--flex"><a class="logo flat-box" href="/">Dylan</a><div class="menu"><ul class="h-list"><li><a id="home" class="nav flat-box" href="/" target=""><i class="fa fa-home fa-fw"></i> &nbsp;主页</a></li><li><a id="archives" class="nav flat-box" href="/archives/" target=""><i class="fa fa-archive fa-fw"></i> &nbsp;归档</a></li><li><a id="listbooks.html" class="nav flat-box" href="/list/books.html" target=""><i class="fa fa-book fa-fw"></i> &nbsp;书籍</a></li><li><a id="listtools.html" class="nav flat-box" href="/list/tools.html" target=""><i class="fa fa-wrench fa-fw"></i> &nbsp;工具</a></li><li><a id="listgames.html" class="nav flat-box" href="/list/games.html" target=""><i class="fa fa-cubes fa-fw"></i> &nbsp;娱乐</a></li><li><a id="box" class="nav flat-box" href="/box/" target="__blank"><i class="fa fa-flask fa-fw"></i> &nbsp;百宝箱</a></li><li><a id="links" class="nav flat-box" href="/links/" target=""><i class="fa fa-link fa-fw"></i> &nbsp;友链</a></li><li><a id="contact" class="nav flat-box" href="/contact/" target=""><i class="fa fa-comments-o fa-fw"></i> &nbsp;留言版</a></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder="搜索"><span class="icon"><i class="fa fa-search fa-fw"></i></span></form></div><ul class="switcher h-list"><li class="s-search"><a class="fa fa-search fa-fw" href="javascript:void(0)"></a></li><li class="s-menu"><a class="fa fa-bars fa-fw" href="javascript:void(0)"></a></li></ul></div><div class="nav-sub container container--flex"><a class="logo flat-box"></a><ul class="switcher h-list"><li class="s-comment"><a class="flat-btn fa fa-comments fa-fw" href="javascript:void(0)"></a></li><li class="s-toc"><a class="flat-btn fa fa-list-ul fa-fw" href="javascript:void(0)"></a></li></ul></div></div></header><aside class="menu-phone"><section class="author" style="background-image:url(https://cdn.jsdelivr.net/gh/dxsm/cdn/images/nav-bg.jpg)"><div class="avatar-wrap"><div class="avatar" style="background-image:url(https://cdn.jsdelivr.net/gh/dxsm/cdn/images/avatar.png)"></div><span class="name">董续胜</span></div><p class="info">记录时光，走向成长</p></section><header><nav class="menu"><ul><li><a id="home" class="nav flat-box" href="/"><i class="fa fa-home fa-fw"></i> &nbsp;主页</a></li><li><a id="archives" class="nav flat-box" href="/archives/"><i class="fa fa-archive fa-fw"></i> &nbsp;归档</a></li><li><a id="categories" class="nav flat-box" href="/categories/"><i class="fa fa-th fa-fw"></i> &nbsp;分类</a></li><li><a id="tags" class="nav flat-box" href="/tags/"><i class="fa fa-tags fa-fw"></i> &nbsp;标签</a></li><li><a id="listbooks.html" class="nav flat-box" href="/list/books.html"><i class="fa fa-book fa-fw"></i> &nbsp;书籍</a></li><li><a id="listtools.html" class="nav flat-box" href="/list/tools.html"><i class="fa fa-wrench fa-fw"></i> &nbsp;工具</a></li><li><a id="listgames.html" class="nav flat-box" href="/list/games.html"><i class="fa fa-cubes fa-fw"></i> &nbsp;娱乐</a></li><li><a id="box" class="nav flat-box" href="/box/"><i class="fa fa-flask fa-fw"></i> &nbsp;百宝箱</a></li><li><a id="links" class="nav flat-box" href="/links/"><i class="fa fa-link fa-fw"></i> &nbsp;友链</a></li><li><a id="contact" class="nav flat-box" href="/contact/"><i class="fa fa-comments-o fa-fw"></i> &nbsp;留言版</a></li></ul></nav></header><hr><div class="social-wrapper"><a href="http://www.uestc.edu.cn/" title="2016年毕业于电子科技大学" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-university fa_fw" aria-hidden="true"></i></a><a href="http://gr.uestc.edu.cn/" title="硕士学历" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-graduation-cap fa_fw" aria-hidden="true"></i></a><a href="#" title="中国 上海" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-map-marker fa_fw" aria-hidden="true"></i></a><a href="#" title="QQ: 959229640" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-qq fa_fw" aria-hidden="true"></i></a><a href="mailto:959229640@qq.com" title="959229640@qq.com" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-envelope fa_fw" aria-hidden="true"></i></a></div></aside><script>setLoadingBarProgress(40)</script><div class="l_body"><div class="container clearfix"><div class="l_main"><article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost"><section class="meta"><div class="meta" id="header-meta"><h1 class="title">空闲内存管理</h1><div class="new-meta-box"><div class="new-meta-item category"><a href="/categories/ASIC%E8%AE%BE%E8%AE%A1/"><i class="fa fa-folder-o" aria-hidden="true"></i> ASIC设计</a></div></div><hr></div></section><section class="article typo"><div class="article-entry" itemprop="articleBody"><p>在动态分配内存时，操作系统必须对其进行管理。有两种方式跟踪内存使用情况：位图和空闲链表。</p><ol><li>使用位图的存储管理</li></ol><p>使用位图方法时，内存可能被划分成小到几个字或大到几千字节的分配单元。每个分配单元对应于位图中的一位，0表示空闲，1表示占用（或者相反）。一块内存区和其对应的位图如下图所示。</p><p><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" alt="image-20220517221848784" data-echo="https://cdn.jsdelivr.net/gh/dxsm/note/assets/202205172218958.png"></p><p>分配单元的大小是一个重要的设计因素。<span class="p blue">分配单元越小，位图越大</span>。然而即使只有4个字节大小的分配单元，32位(4字节)的内存也只需要位图中的1位；32n位的内存需要n位的位图，所以位图只占用了1/32的内存。若选择比较大的分配单元，则位图更小。但<strong>若进程的大小不是分配单元的整数倍，那么在最后一个分配单元中就会有一定数量的内存被浪费了。</strong></p><span id="more"></span><p>因为内存的大小和分配单元的大小决定了位图的大小，所以它提供了一种简单的利用一块固定大小的内存区就能对内存使用情况进行记录的方法。这种方法的主要问题是，<span class="p yellow">在决定把一个占k个分配单元的进程调入内存时，存储管理器必须搜索位图，在位图中找出有k个连续0的串。查找位图中指定长度的连续0串是耗时的操作</span>。（因为在位图中该串可能跨越字的边界），这是位图的<strong>缺点</strong>。</p><ol start="2"><li>使用链表的存储管理</li></ol><p>维护一个记录已分配内存段和空闲内存段的链表。其中链表中的一个结点或者包含一个进程，或者是两个进程间的一个空的空闲区。可用上图c所示的段链表来表示上图a所示的内存布局。链表中的每一个结点都包含以下域：空闲区（H）或进程（P）的指示标志、起始地址、长度和指向下一结点的指针。</p><p>在本例中，段链表是按照地址排序的，其好处是当进程终止或被换出时链表的更新非常直接。一个要终止的进程一般有两个邻居（除非它是在内存的最底端或最顶端），它们可能是进程也可能是空闲区，这就导致了图3-7所示的四种组合。在上图a中更新链表需要把P替换为H；在上图b和上图c中两个结点被合并成为一个，链表少了一个结点；在上图d中三个结点被合并为一个，从链表中删除了两个结点。</p><p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="301px" height="181px" viewBox="-0.5 -0.5 301 181" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-17T14:22:46.778Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/17.2.1 Chrome/96.0.4664.174 Electron/16.1.0 Safari/537.36&quot; version=&quot;17.2.1&quot; etag=&quot;tncm43XQRKFl1R4HWCJM&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;S0pJN7f0BtDcrTHxCS1m&quot;&gt;7ZpNj5swEIZ/ja8VhpDAMclm20ulSjl0e7TAGyw5OHKcDemvrwl2+BhWiloWHG1zCTN4DH489uuRQMF6X3yV5JB9FynlyPfSAgVPyPexF/r6r/RcKs88XFSOnWSpaVQ7tuw3tZHGe2IpPbYaKiG4Yoe2MxF5ThPV8hEpxbnd7FXw9lMPZEeBY5sQDr0/Waqyyhv5i9r/jbJdZp+M53F1Z09sYzOSY0ZScW64gg0K1lIIVV3tizXlJTzLpYp7fufu7cUkzdU9AWYi3gg/mbEtzYupix2tFKc8pWWAh4LVOWOKbg8kKe+e9fxqX6b2XFtYX5r+qFS0ePed8G2kOkWo2FMlL7qJCYgMG5Mc8czY5xq1dWUNyoHxETO5u1vH9fj1hUHQjyMAOIrJcWB/Oh4zwGM1PY/5dDxCB5eLPyGPOeDxbzheGedrwYW8xgbr628YTIE3HaaFg8somE3HI4JpswlRFKGlhzYximO0nJWe2EPRBpCiebosRVxbCSfHI0vacNokX0WuGilV/p71a65owdSLiSivf5Xtv4TGeipM+NW4WCPXA31pGo2o0qzDrpaNq4ZA086p4ihOMqGtnVYRuaOqtdncMaWNKQt7psz6JOVEsbf2S/TNo3nCD8H0g+uNBncyZt5JhWo8Jqp56Oh21N2xuh1VFEBH17S6DfuuTIsd3LC755t4vIVnZ9DtA86YQPDjKBg4+IzJycVCAewjYwKBpYKziQOOPj2coo/iBEuIT6/1dtNpir1dYM6qPfbwQHIPexpO7zGs0JxdllEXy4gncAwrN/cOAuMScbFI60r+uER6yjRX1xLcY3pAfZjGwSpj+tTp1vejpo5dyP9Vv6H6ZoNpqX5097ROpfpDFfmwp+FU33+gKg6o/ohFi8XiuOqPSeSByjh4GBgTVE8d5yoouPX0gLql3eCkekqQz659dpk1tc9mlLvahwereEFPf6192qy/Dqia199YBJs/&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color:#fff;display:block;margin:auto"><defs/><g><rect x="0" y="0" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:15px;margin-left:1px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">A</div></div></div></foreignObject><text x="20" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">A</text></switch></g><rect x="40" y="0" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:15px;margin-left:41px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">x</div></div></div></foreignObject><text x="60" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">x</text></switch></g><rect x="80" y="0" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:15px;margin-left:81px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">B</div></div></div></foreignObject><text x="100" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">B</text></switch></g><rect x="180" y="0" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:15px;margin-left:181px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">A</div></div></div></foreignObject><text x="200" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">A</text></switch></g><rect x="220" y="0" width="40" height="30" fill="#cccccc" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="260" y="0" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:15px;margin-left:261px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">B</div></div></div></foreignObject><text x="280" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">B</text></switch></g><path d="M120 15 173.63 15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M178.88 15 171.88 18.5 173.63 15 171.88 11.5Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:15px;margin-left:150px"><div data-drawio-colors="color: #3333FF; background-color: rgb(255, 255, 255); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#33f;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">删除后</div></div></div></foreignObject><text x="150" y="18" fill="#3333FF" font-family="Helvetica" font-size="11px" text-anchor="middle">删除后</text></switch></g><rect x="0" y="50" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:65px;margin-left:1px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">A</div></div></div></foreignObject><text x="20" y="69" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">A</text></switch></g><rect x="40" y="50" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:65px;margin-left:41px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">x</div></div></div></foreignObject><text x="60" y="69" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">x</text></switch></g><rect x="80" y="50" width="40" height="30" fill="#cccccc" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="180" y="50" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:65px;margin-left:181px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">A</div></div></div></foreignObject><text x="200" y="69" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">A</text></switch></g><rect x="220" y="50" width="80" height="30" fill="#cccccc" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M120 65 173.63 65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M178.88 65 171.88 68.5 173.63 65 171.88 61.5Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:65px;margin-left:150px"><div data-drawio-colors="color: #3333FF; background-color: rgb(255, 255, 255); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#33f;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">删除后</div></div></div></foreignObject><text x="150" y="68" fill="#3333FF" font-family="Helvetica" font-size="11px" text-anchor="middle">删除后</text></switch></g><rect x="0" y="100" width="40" height="30" fill="#cccccc" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="40" y="100" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:115px;margin-left:41px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">x</div></div></div></foreignObject><text x="60" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">x</text></switch></g><rect x="80" y="100" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:115px;margin-left:81px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">B</div></div></div></foreignObject><text x="100" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">B</text></switch></g><rect x="180" y="100" width="80" height="30" fill="#cccccc" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="260" y="100" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:115px;margin-left:261px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">B</div></div></div></foreignObject><text x="280" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">B</text></switch></g><path d="M120 115 173.63 115" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M178.88 115 171.88 118.5 173.63 115 171.88 111.5Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:115px;margin-left:150px"><div data-drawio-colors="color: #3333FF; background-color: rgb(255, 255, 255); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#33f;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">删除后</div></div></div></foreignObject><text x="150" y="118" fill="#3333FF" font-family="Helvetica" font-size="11px" text-anchor="middle">删除后</text></switch></g><rect x="0" y="150" width="40" height="30" fill="#cccccc" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="40" y="150" width="40" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:38px;height:1px;padding-top:165px;margin-left:41px"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">x</div></div></div></foreignObject><text x="60" y="169" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">x</text></switch></g><rect x="80" y="150" width="40" height="30" fill="#cccccc" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="180" y="150" width="120" height="30" fill="#cccccc" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M120 165 173.63 165" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M178.88 165 171.88 168.5 173.63 165 171.88 161.5Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:1px;height:1px;padding-top:165px;margin-left:150px"><div data-drawio-colors="color: #3333FF; background-color: rgb(255, 255, 255); " style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:11px;font-family:Helvetica;color:#33f;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap">删除后</div></div></div></foreignObject><text x="150" y="168" fill="#3333FF" font-family="Helvetica" font-size="11px" text-anchor="middle">删除后</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg></p><p>因为进程表中表示终止进程的结点中通常含有指向对应于其段链表结点的指针，因此段链表使用<strong>双链表</strong>可能要比上图c所示的单链表更方便。这样的结构<strong>更易于找到上一个结点，并检查是否可以合并</strong>。</p><p>当按照地址顺序在链表中存放进程和空闲区时，有几种算法可以用来为创建的进程（或从磁盘换入的已存在的进程）分配内存。这里，假设存储管理器知道要为进程分配的多大的内存。</p><p>最简单的算法是<span class="p red">首次适配</span>（first fit）算法。存储管理器沿着段链表进行搜索，直到找到一个足够大的空闲区，除非空闲区大小和要分配的空间大小正好一样，否则将该空闲区分为两部分，一部分供进程使用，另一部分形成新的空闲区。首次适配算法是一种速度很快的算法，因为它尽可能少地搜索链表结点。</p><p>对首次适配算法进行很小的修改就可以得到<span class="p red">下次适配</span>（next fit）算法。它的工作方式和首次适配算法相同，不同点是每次找到合适的空闲区时都记录当时的位置。以便在下次寻找空闲区时从上次结束的地方开始搜索，而不是像首次适配算法那样每次都从头开始。Bays（1977）的仿真程序证明下次适配算法的性能略低于首次适配算法。</p><span class="p red">最佳适配</span>（best fit）算法。搜索整个链表（从开始到结束），找出能够容纳进程的最小的空闲区。试图找出最接近实际需要的空闲区，以最好地区配请求和可用空闲区，而不是先拆分一个以后可能会用到的大的空闲区。<p>以上图为例来考察首次适配算法和最佳适配算法。假如需要一个大小为2的块，首次适配算法将分配在位置5的空闲区，而最佳适配算法将分配在位置18的空闲区。</p><p>因为每次调用最佳适配算法时都要搜索整个链表，所以它要比首次适配算法慢。它比首次适配算法或下次适配算法浪费更多的内存，因为它会产生大量无用的小空闲区。一般情况下，首次适配算法生成的空闲区更大一些。</p><p>最佳适配的空闲区会分裂出很多非常小的空闲区，为了避免这一问题，可以考虑<span class="p red">最差适配</span>（worst fit）算法，即总是分配最大的可用空闲区，使新的空闲区比较大从而可以继续使用。仿真程序表明最差适配算法也不是一个好主意。</p><p>如果<wavy>为进程和空闲区维护各自独立的链表，那么这四个算法的速度都能得到提高</wavy>。这样就能集中精力只检查空闲区而不是进程。但这种分配速度的提高的一个不可避免的代价就是<wavy>增加复杂度和内存释放速度变慢</wavy>，因为必须将一个回收的段从进程链表中删除并插入空闲区链表。</p><p>如果进程和空闲区使用不同的链表，则可以<strong>按照大小对空闲区链表排序</strong>，以便<strong>提高最佳适配算法的速度</strong>。在使用最佳适配算法搜索由小到大排列的空闲区链表时，只要找到一个合适的空闲区，则这个空闲区就是能容纳这个作业的最小的空闲区，因此是最佳适配。因为空闲区链表以单链表形式组织，所以不需要进一步搜索。<strong>空闲区链表按大小排序时，首次适配算法与最佳适配算法一样快，而下次适配算法在这里则毫无意义。</strong></p><p>在与进程段分离的单独链表中保存空闲区时，可以做一个小小的优化。不必像上图c那样用单独的数据结构存放空闲区链表，而可以利用空闲区存储这些信息。每个空闲区的第一个字可以是空闲区大小，第二个字指向下一个空闲区。于是就不再需要上图c中所示的那些三个字加一位（P/H）的链表结点了。</p><p>另一种分配算法称为快速适配（quick fit）算法，它为**那些常用大小的空闲区维护单独的链表。**例如，有一个n项的表，该表的第一项是指向大小为4KB的空闲区链表表头的指针，第二项是指向大小为8KB的空闲区链表表头的指针，第三项是指向大小为12KB的空闲区链表表头的指针，以此类推。像21KB这样的空闲区既可以放在20KB的链表中，也可以放在一个专门存放大小比较特别的空闲区的链表中。</p><p>快速适配算法寻找一个指定大小的空闲区是十分快速的，但它和所有将空闲区按大小排序的方案一样都有一个共同的缺点，即在一个进程终止或被换出时，寻找它的相邻块，查看是否可以合并的过程是非常费时的。如果不进行合并，内存将会很快分裂出大量的进程无法利用的小空闲区。</p><div id="post-donate"><div class="donate_msg">生活不止眼前的苟且，还有诗和远方</div><button><span>打赏</span></button><div class="QR" style="display:none"><div class="alipay_qr"><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/alipay.png" alt="淘宝支付"><p>淘宝支付</p></div><div class="weixin_qr"><img src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/weixinpay.png" alt="微信支付"><p>微信支付</p></div></div></div><blockquote class="post-copyright"><p class="post-copyright-author"><strong>本文作者：</strong> 董续胜</p><p class="post-copyright-link"><strong>本文链接：</strong> <a href="https://dxsm.github.io/p/kong-xian-nei-cun-guan-li.html" title="空闲内存管理">https://dxsm.github.io/p/kong-xian-nei-cun-guan-li.html</a></p><p class="post-copyright-license"><strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a>许可协议。转载请注明出处！</p></blockquote></div><section class="meta" id="footer-meta"><hr><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2022-05-17T22:39:25+08:00"><a class="notlink"><i class="fa fa-pencil-alt" aria-hidden="true"></i> 2022-05-17</a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/"><i class="fa fa-hashtag" aria-hidden="true"></i>&nbsp;内存管理</a></div></div></section><div class="prev-next"><section class="next"><span class="art-item-right" aria-hidden="true"><h6>下一页&nbsp;<i class="fa fa-chevron-right" aria-hidden="true"></i></h6><h4><a href="/p/python-du-xie-excel.html" rel="prev" title="Python读写Excel">Python读写Excel</a></h4><h6 class="tags"><a class="tag" href="/tags/Python/"><i class="fa fa-hashtag fa-fw" aria-hidden="true"></i> Python</a></h6></span></section></div></section></article><br><article class="post white-box comments"><section class="article typo"><h4><i class="fa fa-comments fa-fw" aria-hidden="true"></i>&nbsp;评论</h4><section id="comments"><div id="valine_container" class="valine_thread"><i class="fa fa-spinner fa-spin fa-fw"></i></div></section></section></article><script>window.subData={title:"空闲内存管理",tools:!0}</script></div><aside class="l_side"><section class="author"><div class="content pure"><div class="avatar"><img class="avatar" src="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/loading.svg" data-echo="https://cdn.jsdelivr.net/gh/dxsm/cdn/images/avatar3.jpg"></div><div class="text"><p class="nickname">星雨夜澈</p><p><span class="descr">不忘初心，记录时光，走向成长</span></p></div><div class="social-wrapper"><a href="http://www.uestc.edu.cn/" title="2016年毕业于电子科技大学" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-university fa_fw" aria-hidden="true"></i></a><a href="http://gr.uestc.edu.cn/" title="硕士学历" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-graduation-cap fa_fw" aria-hidden="true"></i></a><a href="#" title="中国 上海" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-map-marker fa_fw" aria-hidden="true"></i></a><a href="#" title="QQ: 959229640" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-qq fa_fw" aria-hidden="true"></i></a><a href="mailto:959229640@qq.com" title="959229640@qq.com" class="social flat-btn" target="_blank" rel="external nofollow"><i class="social fa fa-envelope fa_fw" aria-hidden="true"></i></a></div></div></section><section class="plain"><header class="pure"><div><i class="fa fa-bullhorn font-animation annouce fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;公告</div></header><div class="content pure"><p>本站基本建设完成，喜欢的话可以安利给身边的朋友哦！最近已添加markdown在线工具</p></div></section><section class="tagcloud"><header class="pure"><div><i class="fa fa-hashtag fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;热门标签</div><a class="rightBtn" rel="external nofollow noopener noreferrer" href="/tags/" title="tags/"><i class="fa fa-arrows-alt fa-fw"></i></a></header><div class="content pure"><a href="/tags/AHB/" style="font-size:14px;color:#999">AHB</a> <a href="/tags/AMBA/" style="font-size:16px;color:#8b8b8b">AMBA</a> <a href="/tags/ASIC/" style="font-size:24px;color:#555">ASIC</a> <a href="/tags/AXI/" style="font-size:14px;color:#999">AXI</a> <a href="/tags/Low-Power/" style="font-size:18px;color:#7e7e7e">Low Power</a> <a href="/tags/Python/" style="font-size:22px;color:#636363">Python</a> <a href="/tags/SOC/" style="font-size:18px;color:#7e7e7e">SOC</a> <a href="/tags/SpinalHDL/" style="font-size:24px;color:#555">SpinalHDL</a> <a href="/tags/UPF/" style="font-size:14px;color:#999">UPF</a> <a href="/tags/eda-tools/" style="font-size:16px;color:#8b8b8b">eda_tools</a> <a href="/tags/electron/" style="font-size:14px;color:#999">electron</a> <a href="/tags/electron-vue/" style="font-size:14px;color:#999">electron-vue</a> <a href="/tags/fifo/" style="font-size:14px;color:#999">fifo</a> <a href="/tags/git/" style="font-size:14px;color:#999">git</a> <a href="/tags/jtag/" style="font-size:14px;color:#999">jtag</a> <a href="/tags/linux/" style="font-size:22px;color:#636363">linux</a> <a href="/tags/markdown/" style="font-size:16px;color:#8b8b8b">markdown</a> <a href="/tags/systemverilog/" style="font-size:20px;color:#707070">systemverilog</a> <a href="/tags/testbench/" style="font-size:14px;color:#999">testbench</a> <a href="/tags/typora/" style="font-size:16px;color:#8b8b8b">typora</a> <a href="/tags/vim/" style="font-size:14px;color:#999">vim</a> <a href="/tags/vimrc/" style="font-size:14px;color:#999">vimrc</a> <a href="/tags/%E4%B9%A6%E7%B1%8D/" style="font-size:14px;color:#999">书籍</a> <a href="/tags/%E5%84%BF%E7%AB%A5%E6%95%99%E8%82%B2/" style="font-size:14px;color:#999">儿童教育</a> <a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size:14px;color:#999">内存管理</a> <a href="/tags/%E6%AD%A3%E5%88%99/" style="font-size:14px;color:#999">正则</a> <a href="/tags/%E6%B5%81%E4%BF%9D%E5%BA%8F/" style="font-size:14px;color:#999">流保序</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%8A%80%E5%B7%A7/" style="font-size:18px;color:#7e7e7e">设计技巧</a> <a href="/tags/%E8%B5%84%E6%BA%90%E4%BC%98%E5%8C%96/" style="font-size:16px;color:#8b8b8b">资源优化</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size:14px;color:#999">面试</a></div></section><section class="category"><header class="pure"><div><i class="fa fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;所有分类</div><a class="rightBtn" rel="external nofollow noopener noreferrer" href="/categories/" title="categories/"><i class="fa fa-arrows-alt fa-fw"></i></a></header><div class="content pure"><ul class="entry"><li><a class="flat-box" title="/categories/ASIC%E6%B5%8B%E8%AF%95/" href="/categories/ASIC%E6%B5%8B%E8%AF%95/"><div class="name">ASIC测试</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/ASIC%E8%AE%BE%E8%AE%A1/" href="/categories/ASIC%E8%AE%BE%E8%AE%A1/"><div class="name">ASIC设计</div><div class="badge">(6)</div></a></li><li><a class="flat-box" title="/categories/ASIC%E9%AA%8C%E8%AF%81/" href="/categories/ASIC%E9%AA%8C%E8%AF%81/"><div class="name">ASIC验证</div><div class="badge">(5)</div></a></li><li><a class="flat-box" title="/categories/Python/" href="/categories/Python/"><div class="name">Python</div><div class="badge">(5)</div></a></li><li><a class="flat-box" title="/categories/SOC%E8%AE%BE%E8%AE%A1/" href="/categories/SOC%E8%AE%BE%E8%AE%A1/"><div class="name">SOC设计</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/SpinalHDL/" href="/categories/SpinalHDL/"><div class="name">SpinalHDL</div><div class="badge">(9)</div></a></li><li><a class="flat-box" title="/categories/UPF/" href="/categories/UPF/"><div class="name">UPF</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/eda-tools/" href="/categories/eda-tools/"><div class="name">eda_tools</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/electron/" href="/categories/electron/"><div class="name">electron</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/git/" href="/categories/git/"><div class="name">git</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/linux/" href="/categories/linux/"><div class="name">linux</div><div class="badge">(5)</div></a></li><li><a class="flat-box" title="/categories/markdown/" href="/categories/markdown/"><div class="name">markdown</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/typora/" href="/categories/typora/"><div class="name">typora</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/vim/" href="/categories/vim/"><div class="name">vim</div><div class="badge">(1)</div></a></li><li><a class="flat-box" title="/categories/%E4%BD%8E%E5%8A%9F%E8%80%97%E8%AE%BE%E8%AE%A1/" href="/categories/%E4%BD%8E%E5%8A%9F%E8%80%97%E8%AE%BE%E8%AE%A1/"><div class="name">低功耗设计</div><div class="badge">(2)</div></a></li><li><a class="flat-box" title="/categories/%E6%95%99%E8%82%B2/" href="/categories/%E6%95%99%E8%82%B2/"><div class="name">教育</div><div class="badge">(1)</div></a></li></ul></div></section></aside><script>setLoadingBarProgress(60)</script></div><a class="s-top fa fa-arrow-up fa-fw" href="javascript:void(0)"></a></div><footer id="footer" class="clearfix"><br><div><p>© 2019  <i class="fa fa-paper-plane font-animation"></i> 星雨夜澈</p></div></footer><script>setLoadingBarProgress(80)</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script><script>var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo",ROOT="/";"/"!=ROOT.substring(ROOT.length-1)&&(ROOT+="/")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/dxsm/cdn/lib/fancybox/jquery.fancybox.min.css"><script src="https://cdn.jsdelivr.net/gh/dxsm/cdn/lib/fancybox/jquery.fancybox.min.js"></script><script>$(function(){$("body").find(".post-wrapper,#post").find("img").each(function(){var t=document.createElement("a");$(t).attr("data-fancybox","gallery"),$(t).attr("href",$(this).attr("src")),$(this).attr("data-echo")&&$(t).attr("href",$(this).attr("data-echo")),$(this).wrap(t)})})</script><script src="https://cdn.jsdelivr.net/npm/valine@1.4/dist/Valine.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],meta="nick,mail,link".split(",").filter(function(i){return-1<GUEST_INFO.indexOf(i)}),REQUIRED_FIELDS=["nick","mail","link"],requiredFields="nick,mail".split(",").filter(function(i){return-1<REQUIRED_FIELDS.indexOf(i)}),valine=new Valine;function emoji(i,e,a){return i+"/"+i+"-"+e+"."+a}for(var emojiMaps={},i=1;i<=54;i++)emojiMaps["tieba-"+i]=emoji("tieba",i,"png");for(i=1;i<=101;i++)emojiMaps["qq-"+i]=emoji("qq",i,"gif");for(i=1;i<=116;i++)emojiMaps["aru-"+i]=emoji("aru",i,"gif");for(i=1;i<=125;i++)emojiMaps["twemoji-"+i]=emoji("twemoji",i,"png");for(i=1;i<=4;i++)emojiMaps["weibo-"+i]=emoji("weibo",i,"png");valine.init({el:"#valine_container",meta:meta,appId:"luTuCxxHAQDleYzjxn1tNY3F-gzGzoHsz",appKey:"vWAPOyrP9jT4t1yQle11Qhzk",placeholder:"快来评论吧~",pageSize:"10",avatar:"robohash",lang:"zh-cn",visitor:"true",highlight:"true",mathJax:"false",enableQQ:"true",requiredFields:requiredFields,emojiCDN:"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/",emojiMaps:emojiMaps})</script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/gh/toddmotto/echo@1.7.3/src/echo.js"></script><script>echo.init({offset:100,throttle:250,unload:!1,callback:function(t,o){}})</script><script>window.onload=function(){if(/debug=true/.test(window.location)||"true"==localStorage.getItem("active-eruda")){var e=document.createElement("script");e.src="//cdn.jsdelivr.net/npm/eruda",e.async=!0,document.body.appendChild(e),e.onload=function(){eruda.init()}}}</script><script>setLoadingBarProgress(100)</script></body></html>