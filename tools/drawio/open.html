<!DOCTYPE html><html><head><title>Open Diagram</title><link rel="stylesheet" href="styles/grapheditor.css"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><script>function handleSubmit(){window.openForm||document.getElementById("openForm");return window.parent.openNew&&null!=window.parent.baseUrl&&(window.parent.openFile.setConsumer(null),window.parent.open(window.parent.baseUrl)),!0}function hideWindow(e){window.parent.openFile.cancel(e)}function fileChanged(){document.getElementById("openSupported");var e=window.openForm||document.getElementById("openForm"),t=document.getElementById("openButton");0<e.upfile.value.length?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")}function main(){if(window.parent.Editor.useLocalStorage){document.body.innerHTML="";var y=document.createElement("div");y.style.fontFamily="Arial",window.parent.listBrowserFiles(function(e){if(0==e.length)window.parent.mxUtils.write(y,window.parent.mxResources.get("noFiles")),window.parent.mxUtils.br(y);else{e.sort(function(e,t){return e.title.toLowerCase().localeCompare(t.title.toLowerCase())});var t=document.createElement("table"),n=document.createElement("tr");n.style.backgroundColor="#D6D6D6",n.style.height="25px",n.style.textAlign="left",t.appendChild(n);var o=document.createElement("th");window.parent.mxUtils.write(o,window.parent.mxResources.get("name")),n.appendChild(o);var i=document.createElement("th");i.style.width="130px",window.parent.mxUtils.write(i,window.parent.mxResources.get("lastModified")),n.appendChild(i);var r=document.createElement("th");window.parent.mxUtils.write(r,window.parent.mxResources.get("size")),r.style.width="70px",n.appendChild(r);var d=document.createElement("th");d.style.width="23px",n.appendChild(d),t.style.fontSize="12pt",t.style.width="100%";for(var a=0;a<e.length;a++){var l=e[a];if(0<l.title.length){var p=document.createElement("tr");t.appendChild(p),!0&a&&(p.style.backgroundColor="#E6E6E6");var w=document.createElement("td");p.appendChild(w);var s=document.createElement("a");s.style.fontDecoration="none",window.parent.mxUtils.write(s,l.title),s.setAttribute("href","javascript:void(0);"),w.appendChild(s);var c=document.createElement("td");p.appendChild(c);var m=window.parent.EditorUi.prototype.timeSince(new Date(l.lastModified));null==m&&(m=window.parent.mxResources.get("lessThanAMinute")),window.parent.mxUtils.write(c,window.parent.mxResources.get("timeAgo",[m]));var u=document.createElement("td");p.appendChild(u),window.parent.mxUtils.write(u,window.parent.EditorUi.prototype.formatFileSize(l.size));var g=document.createElement("td");p.appendChild(g),g.style.textAlign="center";var h=document.createElement("span");h.className="geSprite geSprite-delete",h.style.cursor="pointer",h.style.display="inline-block",g.appendChild(h),window.parent.mxEvent.addListener(h,"click",function(e){return function(){window.parent.mxUtils.confirm(window.parent.mxResources.get("delete")+' "'+e+'"?')&&window.parent.deleteBrowserFile(e,function(){window.location.reload()})}}(l.title)),window.parent.mxEvent.addListener(s,"click",function(n){return function(){if(window.parent.openNew&&null!=window.parent.baseUrl){var t=window.parent.openFile;window.parent.openBrowserFile(n,function(e){window.parent.openWindow(window.parent.baseUrl+"#L"+encodeURIComponent(n),function(){t.cancel(!1)},function(){t.setData(e,n)})},function(){})}else window.parent.openBrowserFile(n,function(e){window.parent.openFile.setData(e,n)},function(){})}}(l.title))}}y.appendChild(t)}var f=window.parent.mxUtils.button(window.parent.mxResources.get("close"),function(){hideWindow(!0)});f.className="geBtn",f.style.position="fixed",f.style.bottom="0px",f.style.right="0px",y.appendChild(f),document.body.appendChild(y)})}else{document.getElementById("editLink");document.getElementById("openButton").value=window.parent.mxResources.get(window.parent.openKey||"open"),document.getElementById("closeButton").value=window.parent.mxResources.get("close"),document.getElementById("openSupported").innerHTML=window.parent.mxResources.get("openSupported"),(window.openForm||document.getElementById("openForm")).setAttribute("action",window.parent.OPEN_URL)}}</script><body onload="main()"><form method="POST" enctype="multipart/form-data" action="" name="openForm" id="openForm" onsubmit="return handleSubmit()" accept-charset="UTF-8"><table style="width:100%"><tr><td style="height:40px;vertical-align:top" colspan="2"><input type="file" name="upfile" onchange="fileChanged()"></td></tr><tr><td colspan="2" height="120px" id="openSupported" style="font-family:arial;color:grey;font-size:9pt;vertical-align:top;text-align:left"></td></tr><tr><td></td><td style="vertical-align:middle;text-align:right;white-space:nowrap"><input type="button" id="closeButton" class="geBtn" value="Cancel" onclick="hideWindow(!0)"> <input type="submit" id="openButton" class="geBtn gePrimaryBtn" value="Open" disabled></td></tr></table></form></body></html>